<nav class="navbar navbar-default">
    <button type="button" class="btn btn-ns" data-bs-toggle="modal" data-bs-target="#AddClientModal">Add Client</button>
    <button type="button" class="btn btn-ns" (click) = "ShowAddTeamModal()">Add Team</button>
    <button type="button" class="btn btn-ns" (click) = "ShowAddUserModal()">Add User</button>
</nav>

  <!-- Add Client -->
  <div class="modal" tabindex="-1" role="dialog" id="AddClientModal"> 
  <div class="modal-dialog modal-lg" role="document"> 
    <div class="modal-content"> 
      <div class="modal-header  btn-ns"> 
        <h4 class="modal-title">Add Client</h4> 
      </div> 
      <div class="modal-body"> 
        <form id="AddClientForm" [formGroup] = "AddClientFormGroup">
          @if(postStatus.status === "OK")
          {
            <div class="alert alert-success">
              <p>Successfully added client</p>
            </div>
          }
          @else if( postStatus.status === "KO")
          {
            <div class="alert alert-danger">
              <p>Failed to add new client</p>
            </div>
          }
          <div class="row">
            <div class="col-3 text-end">
              <p>name of client</p>
            </div>
            <div class="col-9">
              <input type="text" class="form-control" formControlName = "name">
            </div>
          </div>

        </form>

      </div> 
      <div class="modal-footer"> 
        <input type="submit" class="btn-ns btn" from="AddClientForm" value="Add Client" (click) = "AddClient()" [disabled] = "!AddClientFormGroup.valid">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal"> 
          Close 
        </button> 
      </div> 
    </div> 
  </div> 
</div>

<!-- Add Team -->
<div class="modal" tabindex="-1" role="dialog" id="AddTeamModal"> 
<div class="modal-dialog modal-lg modal-dialog-scrollable" role="document"> 
  <div class="modal-content"> 
    <div class="modal-header  btn-ns"> 
      <h4 class="modal-title">Add Team</h4> 
    </div> 
    <div class="modal-body">
      <form id="AddTeamForm" [formGroup]="AddTeamFormGroup">

        @if(postStatus.status === "OK")
        {
          <div class="alert alert-success">
            <p>Team added Successfully</p>
          </div>
        }
        @else if(postStatus.status === "KO")
        {
          <div class="alert alert-danger">
            <p>Failed to add new Team</p>
          </div>
        }
    
        <div class="row mb-3 p-3">
          <div class="col-3 text-end">
            <p>Enter Team name</p>
          </div>
          <div class="col-9">
            <input type="text" class="form-control" formControlName="name">
          </div>
        </div>

        <div class="row " >
          <div class="col-3 text-end">
            <p>Choose client</p>
          </div>
          <div class="col-9">
            <select value="Choose client" class="form-control" formControlName="chooseClient">
                <option  *ngFor = "let client of clientList"  [ngValue]=client.id>{{client.name}}</option >
             
            </select>

          </div>
          
        </div>

        <div class="row">
          <ng-container *ngFor = "let user of userList">
            <div class="row mt-3">
              <div class="col-9 text-end">
                <p>{{user.fullname}}({{user.username}})</p>
              </div>
              <div class="col-3">
                <input type="checkbox" value={{user.id}} class="teamUserCheckboxes">
              </div>
            </div>
          </ng-container>


        </div>
      </form>


    </div> 
    <div class="modal-footer">
      <input  type="submit" form="AddTeamForm" class="btn btn-ns" value="Add Team" (click) = "AddTeam()" [disabled]="!AddTeamFormGroup.valid">
      <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button> 
    </div> 
  </div> 
</div> 
</div>

<!-- Add User -->
<div class="modal" tabindex="-1" role="dialog" id="AddUserModal"> 
<div class="modal-dialog modal-lg modal-dialog-scrollable" role="document"> 
  <div class="modal-content"> 
    <div class="modal-header btn-ns"> 
      <h4 class="modal-title">AddUser</h4> 
    </div> 
    <div class="modal-body">

      @if(postStatus.status === "OK")
      {
        <div class="alert alert-success">
          <p>Successfully added User</p>
        </div>
      }
      @else if(postStatus.status === "KO")
      {
        <div class="alert alert-danger">
          <p>Failed to add new User</p>
        </div>
      }

      <form [formGroup]="AddUserFormGroup">

        <div class="row mt-3">
          <div class="col-3 text-end">
            <p>Enter first name</p>
          </div>
          <div class="col-9">
            <input type="text" class="form-control" formControlName = "firstname">
          </div>
        </div>
        
        <div class="row mt-3">
          <div class="col-3 text-end">
            <p>Enter last name</p>
          </div>
          <div class="col-9">
            <input type="text" class="form-control" formControlName = "lastname">
          </div>
        </div>
        
        <div class="row mt-3">
          <div class="col-3 text-end">
            <p>Enter email</p>
          </div>
          <div class="col-9">
            <input type="email" class="form-control" formControlName = "email">
          </div>
        </div>
        
        <div class="row mt-3">
          <div class="col-3 text-end">
            <p>Enter username</p>
          </div>
          <div class="col-9">
            <input type="text" class="form-control" formControlName = "username">
          </div>
        </div>
        
        <table class="mt-3">
          <thead>
            <tr>
              <td>Client Name</td>
              <td colspan="2">Team Name</td>
              
            </tr>
          </thead>
          <tbody>
            <tr *ngFor=" let clientTeamMapping of clientTeamMappingList" >
              <td style=" background-color: white !important;"> {{clientTeamMapping.clientname}}</td>
              <td style=" background-color: white !important;"> {{clientTeamMapping.teamname}}</td>
              <td class="nospaceincell" style=" background-color: white !important;"> 
                <input type="checkbox" value='{"teamid": "{{clientTeamMapping.teamid}}", "clientid": "{{clientTeamMapping.clientid}}"}' class="usercheckboxes">
              </td>
            </tr>
          </tbody>
        </table>

      </form>

    </div> 
    <div class="modal-footer"> 
      <input type="submit" value="Add User" class="btn btn-ns" [disabled]= "!AddUserFormGroup.valid" (click) = "AddUser()" >
      <button type="button" class="btn btn-danger" data-bs-dismiss="modal"> 
        Close 
      </button> 
    </div> 
  </div> 
</div> 
</div>